package com.example.controller;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.ResponseBody;

import com.example.bean.SignRequest;



/**
 * http://localhost:9090/mvc/sign
 */
@Controller
@RequestMapping("/sign")
public class SignController {

	public final static String SIGN_DEMO = "data:image/png;base64,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";
	
	@GetMapping
	public String singPage(Model model) {
		
		model.addAttribute("SIGN_DEMO", SIGN_DEMO);
		
		return "templates/signature";
	}
	
	@PostMapping
	@ResponseBody
	public String saveSign(@RequestBody SignRequest signRequest) {
		System.out.println(signRequest.getSignatureDataUrl());
		return "Signature saved successfully";
	}
}
